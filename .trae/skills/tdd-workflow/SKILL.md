---
name: tdd-workflow
description: TDD（测试驱动开发）工作流，确保代码质量和可维护性
---

# TDD 工作流技能

## 触发场景
当用户需要开发新功能、修复 Bug 或重构代码时，自动触发 TDD 工作流。

## 工作流程

### 1. 需求分析
- 理解功能需求和边界条件
- 确定需要测试的关键场景

### 2. 编写测试
- 先编写单元测试，覆盖正常路径
- 添加边界条件测试
- 编写异常处理测试
- 确保测试可执行且失败（Red）

### 3. 编写代码
- 实现最简单的代码让测试通过（Green）
- 遵循项目编码规范
- 添加必要的注释

### 4. 重构
- 优化代码结构
- 消除重复代码
- 保持测试通过

### 5. 验证
- 运行所有测试确保通过
- 检查测试覆盖率
- 代码审查

## 测试规范

### 单元测试要求
- 每个函数至少 1 个正常路径测试
- 每个分支至少 1 个测试
- 边界条件必须测试
- 异常情况必须测试

### 测试覆盖率目标
- 关键业务逻辑 ≥ 90%
- 边界条件 ≥ 80%
- 异常处理 ≥ 85%

## 输出要求
- 测试文件与源码文件对应
- 测试用例命名清晰
- 测试代码有注释
- 提供测试报告

## 使用示例
- "用 TDD 开发一个用户认证功能"
- "为这个 API 添加单元测试"
- "重构代码并保持测试覆盖"
