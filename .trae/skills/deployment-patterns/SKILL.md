---
name: deployment-patterns
description: 部署和 CI/CD 最佳实践，包括流水线配置、回滚策略、健康检查等
---

# 部署模式技能

## 触发场景
当用户需要配置 CI/CD 流水线、设置部署流程或实现自动化部署时，自动触发部署模式技能。

## CI/CD 流水线

### 流水线阶段
- 代码检出
- 依赖安装
- 代码构建
- 测试执行
- 镜像构建
- 部署发布

### 平台配置
- GitHub Actions
- GitLab CI
- Jenkins
- 自建 Runner

## 部署策略

### 部署模式
- 蓝绿部署
- 滚动更新
- 金丝雀发布
- 特性开关

### 回滚策略
- 自动回滚触发
- 手动回滚流程
- 回滚验证
- 数据一致性

## 健康检查

### 检查机制
- 存活探针
- 就绪探针
- 启动探针
- 自定义检查

### 监控指标
- 基础资源指标
- 应用性能指标
- 业务指标
- 告警规则

## 容器编排

### Kubernetes 部署
- Deployment 配置
- Service 暴露
- Ingress 配置
- ConfigMap/Secret

### 服务网格
- 流量管理
- 熔断限流
- 链路追踪
- 可观测性

## 环境管理

### 多环境配置
- 开发环境
- 测试环境
- 预发布环境
- 生产环境

### 配置变量
- 管理
- 环境配置文件
- 密钥管理
- 配置版本化

## 发布流程

### 发布检查
- 代码审查
- 测试通过
- 构建成功
- 部署验证

### 发布窗口
- 发布计划
- 变更窗口
- 紧急发布
- 回滚预案

## 工具生态

### 部署工具
- ArgoCD
- Flux
- Spinnaker
- Octopus Deploy

### 基础设施
- Terraform
- Pulumi
- CloudFormation
- Ansible

## 使用示例
- "配置 GitHub Actions 流水线"
- "实现蓝绿部署"
- "设置 Kubernetes 健康检查"
- "配置自动回滚"
